import * as json2csv from 'json2csv/lib/json2csv';
import {CsvExport} from "../applications/csv-export";

let data = `{
    "info": "Applications found successfully",
    "data": [{"_id":"5926c8885943d92858cd5079","firstName":"a","lastName":"a","email":"a","personalId":"111111/1111","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-25T12:05:28.086Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"5926cea4d6aad31db4276434","firstName":"a","lastName":"a","email":"a","personalId":"111111/1122","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-25T12:31:32.005Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"5926ceb8d6aad31db4276436","firstName":"a","lastName":"a","email":"a","personalId":"111111/1133","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-25T12:31:52.460Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"5926cf41220dcb1540904370","firstName":"a","lastName":"a","email":"a","personalId":"111111/1144","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-25T12:34:09.490Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"5926d008220dcb1540904371","firstName":"a","lastName":"a","email":"a","personalId":"111111/1155","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-25T12:37:28.831Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"5927f8b7220dcb1540904372","firstName":"a","lastName":"a","email":"a","personalId":"111111/1166","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-26T09:43:19.487Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"5927f92b220dcb1540904375","firstName":"a","lastName":"a","email":"a","personalId":"111111/1177","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-26T09:45:15.556Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"5927f93b220dcb1540904378","firstName":"a","lastName":"a","email":"a","personalId":"111111/1188","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-26T09:45:31.505Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"5927f94d220dcb154090437a","firstName":"a","lastName":"a","email":"a","personalId":"111111/1199","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-26T09:45:49.018Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"59280504220dcb154090437d","firstName":"a","lastName":"a","email":"a","personalId":"111111/2222","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-26T10:35:48.078Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"5928077b220dcb154090437f","firstName":"a","lastName":"a","email":"a","personalId":"111111/3311","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-26T10:46:19.348Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"59280a6b220dcb1540904380","firstName":"a","lastName":"a","email":"a","personalId":"111111/4411","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-26T10:58:51.146Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"59280d21220dcb1540904381","firstName":"a","lastName":"a","email":"a","personalId":"111111/5511","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-26T11:10:25.597Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"5928149d220dcb1540904382","firstName":"a","lastName":"a","email":"a","personalId":"111111/6611","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-26T11:42:21.929Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"5928151c220dcb1540904383","firstName":"a","lastName":"a","email":"a","personalId":"111111/7711","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-26T11:44:28.897Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"592815ff220dcb1540904384","firstName":"a","lastName":"a","email":"a","personalId":"111111/8811","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-26T11:48:15.040Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"592816e7220dcb1540904385","firstName":"a","lastName":"a","email":"a","personalId":"111111/9911","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-26T11:52:07.365Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"59281748220dcb1540904387","firstName":"a","lastName":"a","email":"a","personalId":"111111/2233","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-26T11:53:44.153Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"59281c1a220dcb1540904388","firstName":"a","lastName":"a","email":"a","personalId":"111111/2244","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-26T12:14:18.208Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"59281d44220dcb1540904389","firstName":"a","lastName":"a","email":"a","personalId":"111111/2255","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-26T12:19:16.827Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"59281f5c220dcb154090438a","firstName":"a","lastName":"a","email":"a","personalId":"111111/2266","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-26T12:28:12.292Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"592820d7220dcb154090438b","firstName":"a","lastName":"a","email":"a","personalId":"111111/2277","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-26T12:34:31.098Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"59282169220dcb154090438c","firstName":"a","lastName":"a","email":"a","personalId":"111111/2288","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-26T12:36:57.528Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"592822be220dcb154090438e","firstName":"a","lastName":"a","email":"a","personalId":"111111/2299","phone":"1","__v":0,"meta":{"submittedOn":"2017-05-26T12:42:38.621Z"},"address":{"street":"a","city":"a","postCode":"11111"}},{"_id":"596790ec34c3b2209808e61a","firstName":"a","lastName":"a","email":"a","personalId":"111111/7777","phone":"1","__v":0,"meta":{"submittedOn":"2017-07-13T15:25:32.117Z"},"address":{"street":"a","city":"a","postCode":"11111"}}]
}`
let json = JSON.parse(data);
console.log(CsvExport(json.data).toString('utf8'));
